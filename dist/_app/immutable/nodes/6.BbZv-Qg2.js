import{f as A,a as i,t as Y}from"../chunks/DqXKHUsY.js";import"../chunks/DybgDApQ.js";import{p as T,j as F,k as G,t as x,g as a,m as H,e as J,n as o,o as n,s as l,q as s,v as p,z as K}from"../chunks/DmHJ9QOL.js";import{e as O,s as j}from"../chunks/CaJ6HOFi.js";import{i as w}from"../chunks/CcfVls_4.js";import{b as P,r as S,p as Q}from"../chunks/Cl-7jzWS.js";import{p as V}from"../chunks/COVjswXf.js";var W=A('<p class="success-message svelte-kmqcod"> </p>'),X=A('<p class="error-message svelte-kmqcod"> </p>'),Z=A('<div class="signup-container svelte-kmqcod"><h2>Create Pager Account</h2> <form><input type="text" placeholder="Your Name (e.g., Bob)" required class="svelte-kmqcod"/> <input type="email" placeholder="Your Email" required class="svelte-kmqcod"/> <input type="password" placeholder="Password" required class="svelte-kmqcod"/> <button type="submit" class="svelte-kmqcod"><!></button></form> <!> <!> <p>Already have an account? <a href="/login">Log In</a></p></div>');function le(z,M){T(M,!1);const h=o();let N=V(M,"data",8),c=o(""),u=o(""),m=o(""),r=o(!1),d=o(null),v=o(null);async function B(){s(r,!0),s(v,null),s(d,null);const{error:e}=await a(h).auth.signUp({email:a(c),password:a(u),options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{user_name:a(m)}}});e?s(v,e.message):(s(d,"Success! Please check your email to confirm your account before logging in."),s(c,""),s(u,""),s(m,"")),s(r,!1)}F(()=>(a(h),J(N())),()=>{(e=>{s(h,e.supabase)})(N())}),G();var k=Z(),f=l(n(k),2),_=n(f);S(_);var g=l(_,2);S(g);var b=l(g,2);S(b);var q=l(b,2),C=n(q);{var D=e=>{var t=Y("Processing...");i(e,t)},E=e=>{var t=Y("Sign Up");i(e,t)};w(C,e=>{a(r)?e(D):e(E,!1)})}p(q),p(f);var U=l(f,2);{var I=e=>{var t=W(),y=n(t,!0);p(t),x(()=>j(y,a(d))),i(e,t)};w(U,e=>{a(d)&&e(I)})}var L=l(U,2);{var R=e=>{var t=X(),y=n(t,!0);p(t),x(()=>j(y,a(v))),i(e,t)};w(L,e=>{a(v)&&e(R)})}K(2),p(k),x(()=>{_.disabled=a(r),g.disabled=a(r),b.disabled=a(r),q.disabled=a(r)}),P(_,()=>a(m),e=>s(m,e)),P(g,()=>a(c),e=>s(c,e)),P(b,()=>a(u),e=>s(u,e)),O("submit",f,Q(B)),i(z,k),H()}export{le as component};
